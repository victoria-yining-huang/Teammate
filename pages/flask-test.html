<html>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <body>
    <h1>
      This is a flask test.
    </h1>
    <button onclick="start()">
      Start Job
    </button>
    <button onclick="check()">
      Check Job
    </button>
  </body>
  <script>
    function start() {
      $.ajax({
        url: "/start-model",
        type: "POST",
        success: function(resp) {
          const key = resp["Key"];
          sessionStorage.setItem("model_key", key);
          console.log("model key " + key);
        }
      });
    }
    function check() {
      $.ajax({
        url: "/status",
        type: "POST",
        data: {
          key: sessionStorage.getItem("model_key")
        },
        contentType: "application/json; charset=utf-8",
        success: function(resp) {
          console.log(resp);
        }
      });
    }
  </script>
</html>
